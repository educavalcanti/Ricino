-- phpMyAdmin SQL Dump
-- version 3.4.4
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Sep 24, 2011 at 11:41 PM
-- Server version: 5.1.53
-- PHP Version: 5.3.5

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `ricino_org_br`
--

-- --------------------------------------------------------

--
-- Table structure for table `AJUDA`
--

CREATE TABLE IF NOT EXISTS `AJUDA` (
  `AJUD_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `AJUD_NM_ASSUNTO` varchar(200) NOT NULL,
  `AJUD_NM_PERGUNTA` varchar(200) NOT NULL,
  `AJUD_TX_RESPOSTA` text NOT NULL,
  `AJUD_DT_INCLUSAO` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `AJUD_NM_AUTOR` varchar(100) NOT NULL,
  PRIMARY KEY (`AJUD_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `ARQUIVO`
--

CREATE TABLE IF NOT EXISTS `ARQUIVO` (
  `ARQU_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `TIUS_CD_CHAVE` int(11) NOT NULL,
  `TIAR_CD_CHAVE` int(11) NOT NULL,
  `SECA_CD_CHAVE` int(11) NOT NULL,
  `ARQU_NM_URL` varchar(200) NOT NULL,
  PRIMARY KEY (`ARQU_CD_CHAVE`),
  KEY `FK_ARQU_TIPO_USUARIO` (`TIUS_CD_CHAVE`),
  KEY `FK_ARQU_TIPO_ARQUIVO` (`TIAR_CD_CHAVE`),
  KEY `FK_ARQU_SECAO` (`SECA_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `ARTIGO_EVENTO`
--

CREATE TABLE IF NOT EXISTS `ARTIGO_EVENTO` (
  `AREV_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `INEV_CD_CHAVE` int(11) NOT NULL,
  `AREV_NM_URL` varchar(200) NOT NULL,
  PRIMARY KEY (`AREV_CD_CHAVE`),
  KEY `FK_INCR_ARTIGO` (`INEV_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `EVENTO`
--

CREATE TABLE IF NOT EXISTS `EVENTO` (
  `EVEN_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `EVEN_DT_REALIZACAO` timestamp NULL DEFAULT NULL,
  `EVEN_NM_LOCAL` varchar(200) DEFAULT NULL,
  `EVEN_NM_ORGANIZACAO` varchar(100) DEFAULT NULL,
  `EVEN_NM_HOTSITE` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`EVEN_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `INSCRICAO_EVENTO`
--

CREATE TABLE IF NOT EXISTS `INSCRICAO_EVENTO` (
  `INEV_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `USUA_CD_CHAVE` int(11) NOT NULL,
  `EVEN_CD_CHAVE` int(11) NOT NULL,
  `INEV_DT_CONFIRMACAO` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`INEV_CD_CHAVE`),
  KEY `FK_USUA_INSCRICAO` (`USUA_CD_CHAVE`),
  KEY `FK_EVEN_INSCRICAO` (`EVEN_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `LINK_EXTERNO`
--

CREATE TABLE IF NOT EXISTS `LINK_EXTERNO` (
  `LIEX_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `LIEX_NM_URL` varchar(200) NOT NULL,
  `LIEX_NM_ROTULO` varchar(100) NOT NULL,
  `LIEX_NM_IMAGEM` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`LIEX_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `MATERIAL_EVENTO`
--

CREATE TABLE IF NOT EXISTS `MATERIAL_EVENTO` (
  `MAEV_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `EVEN_CD_CHAVE` int(11) NOT NULL,
  `MAEV_NM_URL` varchar(200) NOT NULL,
  PRIMARY KEY (`MAEV_CD_CHAVE`),
  KEY `FK_MAEV_ARTIGO` (`EVEN_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `MENSAGEM`
--

CREATE TABLE IF NOT EXISTS `MENSAGEM` (
  `MENS_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `USUA_CD_CRIADOR` int(11) NOT NULL,
  `TOPI_CD_CHAVE` int(11) NOT NULL,
  `MENS_DT_CRIACAO` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `MENS_TX_CONTEUDO` text NOT NULL,
  `MENS_NM_ANEXO` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`MENS_CD_CHAVE`),
  KEY `USUA_CD_CRIADOR` (`USUA_CD_CRIADOR`),
  KEY `TOPI_CD_CHAVE` (`TOPI_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=19 ;

-- --------------------------------------------------------

--
-- Table structure for table `NOTICIA`
--

CREATE TABLE IF NOT EXISTS `NOTICIA` (
  `NOTI_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `TINO_CD_CHAVE` int(11) DEFAULT '1',
  `NOTI_NM_TITULO` varchar(200) DEFAULT NULL,
  `NOTI_TX_CONTEUDO` text,
  `NOTI_NM_FONTE` varchar(100) DEFAULT NULL,
  `NOTI_DT_PUBLICACAO` datetime DEFAULT NULL,
  `NOTI_NM_LINK` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`NOTI_CD_CHAVE`),
  KEY `FK_NOTI_TIPO_NOTICIA` (`TINO_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2 ;

-- --------------------------------------------------------

--
-- Table structure for table `PROJETO`
--

CREATE TABLE IF NOT EXISTS `PROJETO` (
  `PROJ_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `STPR_CD_CHAVE` int(11) NOT NULL,
  `TIUS_CD_CHAVE` int(11) NOT NULL,
  `PROJ_NM_TITULO` varchar(200) NOT NULL,
  `PROJ_TX_DESCRICAO` text,
  `PROJ_NM_DOCUMENTO` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`PROJ_CD_CHAVE`),
  KEY `FK_PROJ_STATUS_PROJETO` (`STPR_CD_CHAVE`),
  KEY `FK_PROJ_TIPO_USUARIO` (`TIUS_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `RELATORIO`
--

CREATE TABLE IF NOT EXISTS `RELATORIO` (
  `RELA_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `PROJ_CD_CHAVE` int(11) NOT NULL,
  `RELA_TX_DESCRICAO` text NOT NULL,
  `RELA_NM_DOCUMENTO` varchar(200) DEFAULT NULL,
  `RELA_NM_AUTORES` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`RELA_CD_CHAVE`),
  KEY `FK_RELA_PROJETO` (`PROJ_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `SECAO`
--

CREATE TABLE IF NOT EXISTS `SECAO` (
  `SECA_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `SECA_NM_DESCRICAO` varchar(100) NOT NULL,
  PRIMARY KEY (`SECA_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `SECAO_TOPICO`
--

CREATE TABLE IF NOT EXISTS `SECAO_TOPICO` (
  `SETO_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `SETO_NM_DESCRICAO` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`SETO_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `STATUS_PROJETO`
--

CREATE TABLE IF NOT EXISTS `STATUS_PROJETO` (
  `STPR_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `STPR_NM_DESCRICAO` varchar(100) NOT NULL,
  PRIMARY KEY (`STPR_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `TIPO_ARQUIVO`
--

CREATE TABLE IF NOT EXISTS `TIPO_ARQUIVO` (
  `TIAR_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `TIAR_NM_DESCRICAO` varchar(100) NOT NULL,
  PRIMARY KEY (`TIAR_CD_CHAVE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `TIPO_NOTICIA`
--

CREATE TABLE IF NOT EXISTS `TIPO_NOTICIA` (
  `TINO_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `TINO_NM_DESCRICAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`TINO_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3 ;

--
-- Dumping data for table `TIPO_NOTICIA`
--

INSERT INTO `TIPO_NOTICIA` (`TINO_CD_CHAVE`, `TINO_NM_DESCRICAO`) VALUES
(1, 'Noticias'),
(2, 'Avisos');

-- --------------------------------------------------------

--
-- Table structure for table `TIPO_USUARIO`
--

CREATE TABLE IF NOT EXISTS `TIPO_USUARIO` (
  `TIUS_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `TIUS_NM_DESCRICAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`TIUS_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5 ;

--
-- Dumping data for table `TIPO_USUARIO`
--

INSERT INTO `TIPO_USUARIO` (`TIUS_CD_CHAVE`, `TIUS_NM_DESCRICAO`) VALUES
(1, 'Administrador'),
(2, 'Gestor'),
(3, 'Usu√°rio Comum'),
(4, 'Pendente');

-- --------------------------------------------------------

--
-- Table structure for table `TOPICO`
--

CREATE TABLE IF NOT EXISTS `TOPICO` (
  `TOPI_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `USUA_CD_CRIADOR` int(11) NOT NULL,
  `TOPI_DT_CRIACAO` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `SETO_CD_CHAVE` int(11) NOT NULL,
  `TOPI_TX_TITULO` varchar(200) NOT NULL,
  `TOPI_TX_CONTEUDO` text NOT NULL,
  `TOPI_NM_ANEXO` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`TOPI_CD_CHAVE`),
  KEY `USUA_CD_CRIADOR` (`USUA_CD_CRIADOR`),
  KEY `SETO_CD_CHAVE` (`SETO_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=6 ;

-- --------------------------------------------------------

--
-- Table structure for table `USUARIO`
--

CREATE TABLE IF NOT EXISTS `USUARIO` (
  `USUA_CD_CHAVE` int(11) NOT NULL AUTO_INCREMENT,
  `USUA_NM_USUARIO` varchar(20) DEFAULT NULL,
  `USUA_CD_SENHA` varchar(20) DEFAULT NULL,
  `TIUS_CD_CHAVE` int(11) DEFAULT NULL,
  `USUA_NM_NOME` varchar(255) NOT NULL,
  `USUA_DT_NASCIMENTO` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`USUA_CD_CHAVE`),
  KEY `FK_TIUS_USUARIO` (`TIUS_CD_CHAVE`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5 ;

--
-- Dumping data for table `USUARIO`
--

INSERT INTO `USUARIO` (`USUA_CD_CHAVE`, `USUA_NM_USUARIO`, `USUA_CD_SENHA`, `TIUS_CD_CHAVE`, `USUA_NM_NOME`, `USUA_DT_NASCIMENTO`) VALUES
(1, 'admin', 'admin', 1, '', '0000-00-00 00:00:00'),
(2, 'gestor', 'gestor', 2, '', '0000-00-00 00:00:00'),
(3, 'comum', 'comum', 3, '', '0000-00-00 00:00:00'),
(4, 'pendente', 'pendente', 4, '', '0000-00-00 00:00:00');

--
-- Constraints for dumped tables
--

--
-- Constraints for table `ARQUIVO`
--
ALTER TABLE `ARQUIVO`
  ADD CONSTRAINT `FK_ARQU_SECAO` FOREIGN KEY (`SECA_CD_CHAVE`) REFERENCES `SECAO` (`SECA_CD_CHAVE`) ON UPDATE CASCADE,
  ADD CONSTRAINT `FK_ARQU_TIPO_ARQUIVO` FOREIGN KEY (`TIAR_CD_CHAVE`) REFERENCES `TIPO_ARQUIVO` (`TIAR_CD_CHAVE`) ON UPDATE CASCADE,
  ADD CONSTRAINT `FK_ARQU_TIPO_USUARIO` FOREIGN KEY (`TIUS_CD_CHAVE`) REFERENCES `TIPO_USUARIO` (`TIUS_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `ARTIGO_EVENTO`
--
ALTER TABLE `ARTIGO_EVENTO`
  ADD CONSTRAINT `FK_INCR_ARTIGO` FOREIGN KEY (`INEV_CD_CHAVE`) REFERENCES `INSCRICAO_EVENTO` (`INEV_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `INSCRICAO_EVENTO`
--
ALTER TABLE `INSCRICAO_EVENTO`
  ADD CONSTRAINT `FK_EVEN_INSCRICAO` FOREIGN KEY (`EVEN_CD_CHAVE`) REFERENCES `EVENTO` (`EVEN_CD_CHAVE`) ON UPDATE CASCADE,
  ADD CONSTRAINT `FK_USUA_INSCRICAO` FOREIGN KEY (`USUA_CD_CHAVE`) REFERENCES `USUARIO` (`USUA_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `MATERIAL_EVENTO`
--
ALTER TABLE `MATERIAL_EVENTO`
  ADD CONSTRAINT `FK_MAEV_ARTIGO` FOREIGN KEY (`EVEN_CD_CHAVE`) REFERENCES `EVENTO` (`EVEN_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `MENSAGEM`
--
ALTER TABLE `MENSAGEM`
  ADD CONSTRAINT `MENSAGEM_ibfk_2` FOREIGN KEY (`TOPI_CD_CHAVE`) REFERENCES `TOPICO` (`TOPI_CD_CHAVE`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `MENSAGEM_ibfk_3` FOREIGN KEY (`USUA_CD_CRIADOR`) REFERENCES `USUARIO` (`USUA_CD_CHAVE`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `NOTICIA`
--
ALTER TABLE `NOTICIA`
  ADD CONSTRAINT `FK_NOTI_TIPO_NOTICIA` FOREIGN KEY (`TINO_CD_CHAVE`) REFERENCES `TIPO_NOTICIA` (`TINO_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `PROJETO`
--
ALTER TABLE `PROJETO`
  ADD CONSTRAINT `FK_PROJ_STATUS_PROJETO` FOREIGN KEY (`STPR_CD_CHAVE`) REFERENCES `STATUS_PROJETO` (`STPR_CD_CHAVE`) ON UPDATE CASCADE,
  ADD CONSTRAINT `FK_PROJ_TIPO_USUARIO` FOREIGN KEY (`TIUS_CD_CHAVE`) REFERENCES `TIPO_USUARIO` (`TIUS_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `RELATORIO`
--
ALTER TABLE `RELATORIO`
  ADD CONSTRAINT `FK_RELA_PROJETO` FOREIGN KEY (`PROJ_CD_CHAVE`) REFERENCES `PROJETO` (`PROJ_CD_CHAVE`) ON UPDATE CASCADE;

--
-- Constraints for table `TOPICO`
--
ALTER TABLE `TOPICO`
  ADD CONSTRAINT `TOPICO_ibfk_2` FOREIGN KEY (`SETO_CD_CHAVE`) REFERENCES `SECAO_TOPICO` (`SETO_CD_CHAVE`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `TOPICO_ibfk_1` FOREIGN KEY (`USUA_CD_CRIADOR`) REFERENCES `USUARIO` (`USUA_CD_CHAVE`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `USUARIO`
--
ALTER TABLE `USUARIO`
  ADD CONSTRAINT `FK_TIUS_USUARIO` FOREIGN KEY (`TIUS_CD_CHAVE`) REFERENCES `TIPO_USUARIO` (`TIUS_CD_CHAVE`) ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
